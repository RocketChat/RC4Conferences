"""empty message

Revision ID: b006b725586f
Revises: fc0b52c4f842
Create Date: 2018-07-16 16:07:55.511037

"""

from alembic import op
import sqlalchemy as sa
import sqlalchemy_utils

# revision identifiers, used by Alembic.
revision = 'b006b725586f'
down_revision = 'fc0b52c4f842'


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('users', sa.Column('has_accepted_cookie_policy', sa.Boolean(), default=False))
    # ### end Alembic commands ###
    user_table = sa.sql.table('users', sa.Column('has_accepted_cookie_policy', sa.Boolean()))
    op.execute(user_table.update()
               .where(user_table.c.has_accepted_cookie_policy.is_(None))
               .values({'has_accepted_cookie_policy' : False}))


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column('users', 'has_accepted_cookie_policy')
    # ### end Alembic commands ###
